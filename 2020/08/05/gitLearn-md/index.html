<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Git汇总学习 | Tammy-Zting-Blog</title><meta name="description" content="Git 学习config 设置用户名和账号 使用了--global参数 表示你这台机器上的所有仓库都会用这个配置   12git config --global user.name &quot;Your Name&quot;git config --global user.email &quot;email@example.com&quot;  查看配置 1git config --list"><meta name="author" content="Zting"><meta name="copyright" content="Zting"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://tammy-zting.github.io/2020/08/05/gitLearn-md/"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta property="og:type" content="article"><meta property="og:title" content="Git汇总学习"><meta property="og:url" content="http://tammy-zting.github.io/2020/08/05/gitLearn-md/"><meta property="og:site_name" content="Tammy-Zting-Blog"><meta property="og:description" content="Git 学习config 设置用户名和账号 使用了--global参数 表示你这台机器上的所有仓库都会用这个配置   12git config --global user.name &quot;Your Name&quot;git config --global user.email &quot;email@example.com&quot;  查看配置 1git config --list"><meta property="og:image" content="http://tammy-zting.github.io/img/dog.gif"><meta property="article:published_time" content="2020-08-05T01:56:06.000Z"><meta property="article:modified_time" content="2020-08-27T07:44:05.919Z"><meta name="twitter:card" content="summary"><script>var activateDarkMode = function () {
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#000')
  }
}
var activateLightMode = function () {
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#fff')
  }
}

var getCookies = function (name) {
  const value = `; ${document.cookie}`
  const parts = value.split(`; ${name}=`)
  if (parts.length === 2) return parts.pop().split(';').shift()
}

var autoChangeMode = 'false'
var t = getCookies('theme')
if (autoChangeMode === '1') {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
  var isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
  var isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined) {
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport) {
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour <= 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
    }
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      if (Cookies.get('theme') === undefined) {
        e.matches ? activateDarkMode() : activateLightMode()
      }
    })
  } else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else if (autoChangeMode === '2') {
  now = new Date()
  hour = now.getHours()
  isNight = hour <= 6 || hour >= 18
  if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else {
  if (t === 'dark') activateDarkMode()
  else if (t === 'light') activateLightMode()
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="prev" title="动态按钮" href="http://tammy-zting.github.io/2020/08/27/css-button/"><link rel="next" title="js常用方法汇总" href="http://tammy-zting.github.io/2020/08/03/js%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E6%B1%87%E6%80%BB/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: false,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false    
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isSidebar: true
  }</script><noscript><style>
#nav {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.1"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/author_img.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">11</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div></div></div></div><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Git-学习"><span class="toc-number">1.</span> <span class="toc-text">Git 学习</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#config"><span class="toc-number">1.1.</span> <span class="toc-text">config</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#创建仓库"><span class="toc-number">1.2.</span> <span class="toc-text">创建仓库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#仓库操作"><span class="toc-number">1.3.</span> <span class="toc-text">仓库操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#git-status-查看状态"><span class="toc-number">1.3.1.</span> <span class="toc-text">git status 查看状态</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#git-diff-比较修改"><span class="toc-number">1.3.2.</span> <span class="toc-text">git diff  比较修改</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-log-查看快照"><span class="toc-number">1.4.</span> <span class="toc-text">git log 查看快照</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-reset-撤销"><span class="toc-number">1.5.</span> <span class="toc-text">git reset 撤销</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#撤销已经提交到分支的恢复"><span class="toc-number">1.5.1.</span> <span class="toc-text">撤销已经提交到分支的恢复</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#撤销已经提交到暂存区的操作"><span class="toc-number">1.5.2.</span> <span class="toc-text">撤销已经提交到暂存区的操作</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-reflog-查看操作过程"><span class="toc-number">1.6.</span> <span class="toc-text">git reflog 查看操作过程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#工作区和暂存区"><span class="toc-number">1.7.</span> <span class="toc-text">工作区和暂存区</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-checkout-–-yourfile-txt-恢复文件"><span class="toc-number">1.8.</span> <span class="toc-text">git checkout – yourfile.txt 恢复文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-rm-删除暂存区的文件"><span class="toc-number">1.9.</span> <span class="toc-text">git rm 删除暂存区的文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#远程仓库"><span class="toc-number">1.10.</span> <span class="toc-text">远程仓库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#GitHub"><span class="toc-number">1.10.1.</span> <span class="toc-text">GitHub</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#添加远程库"><span class="toc-number">1.10.2.</span> <span class="toc-text">添加远程库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#git-clone-xxxx-克隆远程库到本地"><span class="toc-number">1.10.3.</span> <span class="toc-text">git clone xxxx 克隆远程库到本地</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#分支管理"><span class="toc-number">1.11.</span> <span class="toc-text">分支管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#创建与合并分支"><span class="toc-number">1.11.1.</span> <span class="toc-text">创建与合并分支</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#原理"><span class="toc-number">1.11.1.1.</span> <span class="toc-text">原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#实例"><span class="toc-number">1.11.1.2.</span> <span class="toc-text">实例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#解决冲突"><span class="toc-number">1.11.2.</span> <span class="toc-text">解决冲突</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#保存工作区"><span class="toc-number">1.11.3.</span> <span class="toc-text">保存工作区</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#git-branch-D-强行删除一个还没有合并的分支"><span class="toc-number">1.11.4.</span> <span class="toc-text">git branch -D  强行删除一个还没有合并的分支</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#多人协作"><span class="toc-number">1.11.5.</span> <span class="toc-text">多人协作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#git-rebase"><span class="toc-number">1.11.6.</span> <span class="toc-text">git rebase</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#标签"><span class="toc-number">1.12.</span> <span class="toc-text">标签</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#创建标签"><span class="toc-number">1.12.1.</span> <span class="toc-text">创建标签</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#操作标签"><span class="toc-number">1.12.2.</span> <span class="toc-text">操作标签</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#使用Github"><span class="toc-number">1.13.</span> <span class="toc-text">使用Github</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/dog.gif)"><nav id="nav"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">Tammy-Zting-Blog</a></span><span class="pull-right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">Git汇总学习</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2020-08-05 09:56:06"><i class="far fa-calendar-alt fa-fw"></i> 发表于 2020-08-05</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2020-08-27 15:44:05"><i class="fas fa-history fa-fw"></i> 更新于 2020-08-27</span></time></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta__icon"></i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h1 id="Git-学习"><a href="#Git-学习" class="headerlink" title="Git 学习"></a>Git 学习</h1><h2 id="config"><a href="#config" class="headerlink" title="config"></a>config</h2><ul>
<li><p>设置用户名和账号 使用了<code>--global</code>参数 表示你这台机器上的所有仓库都会用这个配置</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;Your Name&quot;</span><br><span class="line">git config --global user.email &quot;email@example.com&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看配置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --list</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="创建仓库"><a href="#创建仓库" class="headerlink" title="创建仓库"></a>创建仓库</h2><ul>
<li><p>创建文件夹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir learngit</span><br><span class="line">cd learngit</span><br></pre></td></tr></table></figure>
</li>
<li><p>初始化仓库 初始化后会生成一个<code>.git</code>目录，这个目录是隐藏的，不要手动删掉</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure>
</li>
<li><p>把文件添加到仓库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add yourfile.txt </span><br><span class="line">&#x2F;&#x2F;或者添加所有</span><br><span class="line">git add .</span><br></pre></td></tr></table></figure>
</li>
<li><p>提交到仓库 <code>-m</code>后面输入的是本次提交的说明，输入有意义的说明很重要</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m &quot;wrote a yourfile.txt&quot;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>注意<code>-am</code>区别</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -am &quot;xxxxx&quot;</span><br></pre></td></tr></table></figure>

<p>可以省略使用git add命令将已跟踪文件放到暂存区的功能，如果是新增的文件，处于未跟踪状态无法提交</p>
</li>
<li><p>为什么git需要<code>add</code>和<code>commit</code>两步</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add file1.txt</span><br><span class="line">git add file2.txt file3.txt</span><br><span class="line">git commit -m &quot;add 3 files&quot;</span><br></pre></td></tr></table></figure>

<p>因为<code>commit</code>可以一次提交很多文件，多次<code>add</code>不同的文件</p>
</li>
</ul>
</li>
</ul>
<h2 id="仓库操作"><a href="#仓库操作" class="headerlink" title="仓库操作"></a>仓库操作</h2><h3 id="git-status-查看状态"><a href="#git-status-查看状态" class="headerlink" title="git status 查看状态"></a>git status 查看状态</h3><ul>
<li>下面表示<code>ztt.txt</code>这个文件被修改过</li>
</ul>
<p><img src= "/img/loading.gif" data-src="https://note.youdao.com/yws/api/personal/file/7F76757A206345549E1BFB139408AAFB?method=download&shareKey=57da0c3daa5faa757d134d11ddda323b" alt=""></p>
<h3 id="git-diff-比较修改"><a href="#git-diff-比较修改" class="headerlink" title="git diff  比较修改"></a>git diff  比较修改</h3><ul>
<li><p>顾名思义就是查看文件的对比，我们可以看出第一行增加了<code>add content</code></p>
<p><img src= "/img/loading.gif" data-src="https://note.youdao.com/yws/api/personal/file/493E6B4860A449898E40A588E47B5CC8?method=download&shareKey=6a444af3cf44c503fc4d7db849bae7ab" alt=""></p>
</li>
<li><p>查看完修改的内容就可以放心提交了<code>git commit -am &quot;add content&quot;</code></p>
<p><img src= "/img/loading.gif" data-src="https://note.youdao.com/yws/api/personal/file/A2B8C318D9724871A5A486B41BEEA06A?method=download&shareKey=24e70a94e25022887a279a21b7fbbadb" alt=""></p>
</li>
</ul>
<h2 id="git-log-查看快照"><a href="#git-log-查看快照" class="headerlink" title="git log 查看快照"></a>git log 查看快照</h2><ul>
<li><p>查看快照 即每次<code>commit</code>后的内容，从下面可以看出我们做过两次提交,显示的顺序是从近到远</p>
<p><img src= "/img/loading.gif" data-src="https://note.youdao.com/yws/api/personal/file/E978D64120874253B6E49D9304CD9527?method=download&shareKey=ff5055da3e134496f2861031b7eea347" alt=""></p>
</li>
</ul>
<p>​    </p>
<h2 id="git-reset-撤销"><a href="#git-reset-撤销" class="headerlink" title="git reset 撤销"></a>git reset 撤销</h2><h3 id="撤销已经提交到分支的恢复"><a href="#撤销已经提交到分支的恢复" class="headerlink" title="撤销已经提交到分支的恢复"></a>撤销已经提交到分支的恢复</h3><ul>
<li><p>让我们再修改下文件 增加一行<code>add footer</code>,再查看下<code>git log</code></p>
<p><img src= "/img/loading.gif" data-src="https://note.youdao.com/yws/api/personal/file/B5B0AEEE7CDB45669F28D8847FD92273?method=download&shareKey=b4b2addc24baa65e6566148d3e1b4acf" alt=""></p>
</li>
<li><p>方法一 恢复到上一个版本，<code>~x</code>代表回退到上几个版本</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD~1</span><br></pre></td></tr></table></figure>

<p><img src= "/img/loading.gif" data-src="https://note.youdao.com/yws/api/personal/file/FF18BE1316624EAF88A32D2B9FBCD323?method=download&shareKey=4dd1fc5fe921f46a447ecb2a436a9773" alt=""></p>
</li>
<li><p>方法二 恢复到未来版本 ，只要窗口没关闭的话你可以，往上找到版本号，不用写全，会自动补全（当然也不能只写前一两位，因为Git可能会找到多个版本号，就无法确定是哪一个了。）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard 版本号xxx</span><br></pre></td></tr></table></figure>

<p><img src= "/img/loading.gif" data-src="https://note.youdao.com/yws/api/personal/file/7314660A6F7A4C5FACD8746FA577F89F?method=download&shareKey=2d87b9956a8f4ae88c855573b241776c" alt=""></p>
</li>
</ul>
<h3 id="撤销已经提交到暂存区的操作"><a href="#撤销已经提交到暂存区的操作" class="headerlink" title="撤销已经提交到暂存区的操作"></a>撤销已经提交到暂存区的操作</h3><ul>
<li><p>第一步执行 文件会恢复到修改后的工作区 未添加到暂存区状态</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset HEAD yourfile.txt</span><br></pre></td></tr></table></figure>

<p>  HEAD表示最新的版本</p>
</li>
</ul>
<p><img src= "/img/loading.gif" data-src="https://note.youdao.com/yws/api/personal/file/52CA43863D5A42949381976A5A9405D9?method=download&shareKey=4407a393dd88bb1b6e3579c987d9f28f" alt=""></p>
<ul>
<li><p>第二步 恢复到修改前的文件</p>
<pre><code>git checkout -- yourfile.txt</code></pre></li>
</ul>
<h2 id="git-reflog-查看操作过程"><a href="#git-reflog-查看操作过程" class="headerlink" title="git reflog 查看操作过程"></a>git reflog 查看操作过程</h2><ul>
<li><p>用于查找<code>commit id</code>，它会记录你的每一次操作</p>
<p><img src= "/img/loading.gif" data-src="https://note.youdao.com/yws/api/personal/file/B9E1E715C466492B8E6D1B048A13EEE2?method=download&shareKey=f8910808482d8bb290ac65b7b04602ae" alt=""></p>
</li>
</ul>
<h2 id="工作区和暂存区"><a href="#工作区和暂存区" class="headerlink" title="工作区和暂存区"></a>工作区和暂存区</h2><ul>
<li><p>工作区：我们存放文件的文件夹，<code>.git</code>这个隐藏目录是git的版本库</p>
</li>
<li><p>git版本库中最重要的称为<code>Stage</code>即暂存区，git会为我们自动创建第一个分支<code>master</code>,以及指向<code>master</code>的一个指针<code>HEAD</code>，我们控制版本就是移动这个指针来更新文件</p>
<p><img src= "/img/loading.gif" data-src="https://note.youdao.com/yws/api/personal/file/55659E9EB95D4576949F98BC1DEA6557?method=download&shareKey=e56ab0e3080843f27fe1d80a4a1aed0e" alt=""></p>
<p>第一步<code>git add</code>就是把文件添加到暂存区</p>
<p>第二步<code>git commit</code>就是把暂存区的内容提交到当前分支</p>
</li>
</ul>
<h2 id="git-checkout-–-yourfile-txt-恢复文件"><a href="#git-checkout-–-yourfile-txt-恢复文件" class="headerlink" title="git checkout – yourfile.txt 恢复文件"></a>git checkout – yourfile.txt 恢复文件</h2><ul>
<li><p>情况一 文件自修改后还没被放到暂存区，撤销修改就回到修改前的状态</p>
</li>
<li><p>情况二 文件已经添加到暂存区，又做了修改，撤销修改就回到添加到暂存区后的状态</p>
<p><img src= "/img/loading.gif" data-src="https://note.youdao.com/yws/api/personal/file/D6C9D2C485DF4CE2B622801C756B42DE?method=download&shareKey=e79245e3061cbe6cc773e1653f9e1646" alt=""></p>
<p><em>注意命令中的<code>--</code>很重要，如果没有就变成了切换到另一分支的命令</em></p>
</li>
</ul>
<h2 id="git-rm-删除暂存区的文件"><a href="#git-rm-删除暂存区的文件" class="headerlink" title="git rm 删除暂存区的文件"></a>git rm 删除暂存区的文件</h2><ul>
<li><p>对应<code>git add</code>的操作 </p>
</li>
<li><p>现在工作区新建一个<code>test.txt</code>文件，并提交到分支，再在工作区手动删除文件，查看状态</p>
<ul>
<li><p>情况一 删除暂存区的<code>test.txt</code>文件</p>
<p><img src= "/img/loading.gif" data-src="https://note.youdao.com/yws/api/personal/file/ABF2A36A9ACD47CC993A4CE2AAB66D92?method=download&shareKey=6b6627657d0ed079fec330d5bf1a7fa0" alt=""></p>
</li>
<li><p>情况二 不小心误删的，因为暂存区还有保存着一份，故可以执行以上的命令恢复文件</p>
<p><img src= "/img/loading.gif" data-src="https://note.youdao.com/yws/api/personal/file/D12784CEB09B436B8C8DA8E373E6260C?method=download&shareKey=26f49de005c755f9901d87b830e7ea75" alt=""></p>
</li>
</ul>
</li>
</ul>
<h2 id="远程仓库"><a href="#远程仓库" class="headerlink" title="远程仓库"></a>远程仓库</h2><h3 id="GitHub"><a href="#GitHub" class="headerlink" title="GitHub"></a>GitHub</h3><ul>
<li><p>本地Git仓库和GitHub仓库之间的传输是通过SSH加密的</p>
<ul>
<li><p>创建SSH Key，在用户主目录下（cmd），查看是否存在<code>.ssh</code>目录，若没有创建</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;youremail@example.com&quot;</span><br></pre></td></tr></table></figure>

<p><img src= "/img/loading.gif" data-src="https://note.youdao.com/yws/api/personal/file/BB4EFA420A6644039723A7BD8B4D65CF?method=download&shareKey=e22ffd65385f7b5a86b602272db398ff" alt=""></p>
</li>
<li><p>之后就可以找到<code>.ssh</code>目录，其中<code>id_rsa</code>和<code>id_rsa.pub</code>两个文件，这两个就是SSH Key的秘钥对，<code>id_rsa</code>是私钥，不能泄露，<code>id_rsa.pub</code>是公钥，可以放心给别人</p>
</li>
<li><p>登录Github,打开setting,选择SSH and GPG keys ,创建New SSH key</p>
<p><img src= "/img/loading.gif" data-src="https://note.youdao.com/yws/api/personal/file/6EA79857D90444E581D52C46ED4918FB?method=download&shareKey=bb6061d702ecf0702c6f81f11aa92e4a" alt=""></p>
<p><img src= "/img/loading.gif" data-src="https://note.youdao.com/yws/api/personal/file/8EADEBA9761E44A887015116A599E768?method=download&shareKey=9750b7b867b8e9d0f76f3badb161b26e" alt=""></p>
</li>
</ul>
</li>
</ul>
<pre><code>​        Title任意填，Key粘贴公钥里的内容即可`id_rsa.pub `</code></pre><h3 id="添加远程库"><a href="#添加远程库" class="headerlink" title="添加远程库"></a>添加远程库</h3><ul>
<li><p>github创建一个新的Repository</p>
<p><img src= "/img/loading.gif" data-src="https://note.youdao.com/yws/api/personal/file/8F3175BF88B84E20873E52B429277FA7?method=download&shareKey=359709298efb9996c1a2fc83fa4a5e89" alt=""></p>
</li>
<li><p>然后可以根据github提示来</p>
<p><img src= "/img/loading.gif" data-src="https://note.youdao.com/yws/api/personal/file/2288BBBB002A45D490134EC29A8ABCFF?method=download&shareKey=aff2fc1ced59474b188f65e07174a808" alt=""></p>
<ul>
<li><p>在本地仓库运行命令 注意地址是你自己github的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin https:&#x2F;&#x2F;github.com&#x2F;yourgithub&#x2F;test.git</span><br></pre></td></tr></table></figure>

<p>添加后远程库的名字就是<code>origin</code>,这是Git默认的叫法，可以换成别的，但是不建议，因为<code>origin</code>本意就是远程库</p>
</li>
<li><p>推送本地内容到远程库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure>

<p>用<code>git push</code>命令，实际上是把当前分支<code>master</code>推送到远程</p>
<p>由于第一次推送，远程库是空的，所以加上了<code>-u</code>，Git会把本地的<code>master</code>分支内容推送到远程新的<code>master</code>分支，还会把本地<code>master</code>分支和远程<code>mster</code>分支关联起来，方便以后推送和拉取可以简化命令</p>
</li>
<li><p><strong>之后只要本地做了提交，可以通过以下命令把本地<code>master</code>分支最新修改推送到远程库</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin master</span><br></pre></td></tr></table></figure>



</li>
</ul>
</li>
</ul>
<h3 id="git-clone-xxxx-克隆远程库到本地"><a href="#git-clone-xxxx-克隆远程库到本地" class="headerlink" title="git clone xxxx 克隆远程库到本地"></a>git clone xxxx 克隆远程库到本地</h3><ul>
<li>地址可以是浏览器上的<code>https://xxxx</code></li>
<li>也可以是SSH的 <code>git@github.com:xxxx</code></li>
</ul>
<h2 id="分支管理"><a href="#分支管理" class="headerlink" title="分支管理"></a>分支管理</h2><ul>
<li>使用场景即多人协作，当你代码还没完成需要提交避免进度丢失，但是提交又会影响其他人开发时，创建自己的分支，这样就不会相互影响，等开发完毕再一次性合并到原来的分支上</li>
</ul>
<h3 id="创建与合并分支"><a href="#创建与合并分支" class="headerlink" title="创建与合并分支"></a>创建与合并分支</h3><h4 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h4><ul>
<li><p><code>master</code>分支是一条线，<code>HEAD</code>指向<code>master</code>，每次提交<code>master</code>分支都会向前移动一步，这样随着你不断提交<code>master</code>分支线会越来越长</p>
<p><img src= "/img/loading.gif" data-src="https://note.youdao.com/yws/api/personal/file/EE272469AC994DD6A5ECA6E1FA5903AC?method=download&shareKey=7a18c12a3103a6e192433bf2ef005afd" alt=""></p>
<ul>
<li><p>创建<code>dev</code>分支，指向<code>master</code>相同的提交，<code>HEAD</code>指向<code>dev</code>,从此对工作区的修改和提交都是针对<code>dev</code>分支，比如新提交，<code>dev</code>指针会往前移动一步，但是<code>master</code>不会移动</p>
<p><img src= "/img/loading.gif" data-src="https://note.youdao.com/yws/api/personal/file/51145F6538F54C33ACEEC86CBE782683?method=download&shareKey=3017705c7758aa5a23d3b774d89330ff" alt=""></p>
<p><img src= "/img/loading.gif" data-src="https://note.youdao.com/yws/api/personal/file/7DACEE0DF83A4D06B797D5D88706C07F?method=download&shareKey=4e611972220915a99f3471386fc6b912" alt=""></p>
</li>
</ul>
</li>
<li><p>合并<code>dev</code>到<code>master</code>，直接把<code>master</code>指向当前<code>dev</code>提交</p>
<p><img src= "/img/loading.gif" data-src="https://note.youdao.com/yws/api/personal/file/205EC3953C454375A4F113D5DEE68690?method=download&shareKey=121d80a3de26aa47d38c84e581730513" alt=""></p>
</li>
<li><p>合并完成之后就可以把<code>dev</code>分支删除，只剩下<code>master</code>分支</p>
<p><img src= "/img/loading.gif" data-src="https://note.youdao.com/yws/api/personal/file/49E7A5752E824B79B4B921AE5F978D34?method=download&shareKey=f2b3c546d118cdf57d73170db528674c" alt=""></p>
</li>
</ul>
<h4 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h4><ul>
<li><p>创建并切换分支到新创建的<code>dev</code>分支</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b dev</span><br></pre></td></tr></table></figure>

<p>上面的相当于执行两句</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch dev</span><br><span class="line">git checkout dev</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看当前分支</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch</span><br></pre></td></tr></table></figure>

<p><img src= "/img/loading.gif" data-src="https://note.youdao.com/yws/api/personal/file/6DF637F3E4834C7580F1249FCD9F6308?method=download&shareKey=1c50acd973d232f5d9214dd1f7dada7f" alt=""></p>
</li>
<li><p>增加<code>new.txt</code>文件，提交到<code>dev</code>分支,切换到<code>master</code>分支看不到这个文件，这是因为这个文件提交到的是<code>dev</code>分支，现在切换到<code>master</code>分支做合并分支操作，之后可以删除<code>dev</code>分支</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout master</span><br><span class="line">git merge dev</span><br></pre></td></tr></table></figure>

<p><img src= "/img/loading.gif" data-src="https://note.youdao.com/yws/api/personal/file/8F403473073C43968226FA38C5DBFE3A?method=download&shareKey=442e6a7e8a6bdfd18690de52559e1bb9" alt=""></p>
</li>
</ul>
<h3 id="解决冲突"><a href="#解决冲突" class="headerlink" title="解决冲突"></a>解决冲突</h3><ul>
<li><p>新增并切换到分支<code>demo</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git switch -c demo</span><br></pre></td></tr></table></figure>

<p><em>由于git checkout 担任角色太多 既要担任切换分支又要担任恢复文件，故用以上代替 git checkout -b demo</em></p>
</li>
<li><p>文件<code>new.txt</code>中增加一行<code>A &amp; B</code>,然后提交到分支</p>
</li>
<li><p>切换到<code>master</code>分支，再次修改<code>new.txt</code>文件，增加一行<code>A and B</code>，然后提交分支</p>
</li>
<li><p>执行<code>git merge demo</code>合并分支命令，<code>git status</code>会有冲突提示</p>
<p><img src= "/img/loading.gif" data-src="https://note.youdao.com/yws/api/personal/file/7EFD2EDF67C148028EE6496FE621AFA9?method=download&shareKey=044ffd460484c4e8c15d4d93b0759c79" alt=""></p>
<p><em>其中提示比远程仓库提前了2个提交Your branch is ahead of ‘origin/master’</em></p>
<p><em>git merge demo 是采用<code>Fast forward</code>模式，禁用该模式可以加参数 git merge –no-ff -m “xxx”,加上<code>--no-ff</code>参数就可以用普通模式合并，合并后的历史有分支，能看出来曾经做过合并，而<code>fast forward</code>合并就看不出来曾经做过合并。</em></p>
</li>
<li><p>查看<code>new.txt</code>文件，Git用<code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>，<code>=======</code>，<code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code>标记出不同分支的内容，</p>
<p><img src= "/img/loading.gif" data-src="https://note.youdao.com/yws/api/personal/file/4EEB409FA1DA4F528AE4D938753C2AF8?method=download&shareKey=5523a5ee217ba0de10d8bff9be8a7794" alt=""></p>
</li>
<li><p>修改<code>new.txt</code>文件，解决冲突后提交即可，删除<code>demo</code>分支</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -d demo</span><br></pre></td></tr></table></figure>

<p><em>git log –graph –pretty=oneline –abbrev-commit 可以查看分支合并图</em></p>
</li>
</ul>
<h3 id="保存工作区"><a href="#保存工作区" class="headerlink" title="保存工作区"></a>保存工作区</h3><ul>
<li><p>应用场景修复bug,但是当前你是处在分支<code>demo</code>上处理问题，问题只处理到一半不能提交，但是领导要求你要先修复bug,解决方法如下</p>
<ul>
<li><p>保存分支<code>demo</code>工作区内容,你可以多次保存</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git stash</span><br></pre></td></tr></table></figure>

<p><img src= "/img/loading.gif" data-src="https://note.youdao.com/yws/api/personal/file/0090D6C553FE4E939C4EE5DDBF30524C?method=download&shareKey=a185f3b663dea8adff9ad4f3eb364189" alt=""></p>
</li>
<li><p>切换到<code>master</code>,创建并切换到新分支例如<code>issue-101</code>，修复bug,切换回<code>master</code>直接合并分支</p>
</li>
<li><p>切换回<code>demo</code>工作区继续干活，首先就要恢复工作区</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git stash list &#x2F;&#x2F;查看</span><br><span class="line"></span><br><span class="line">git stash apply stash@&#123;0&#125;  &#x2F;&#x2F;恢复指定的位置</span><br><span class="line">git stash drop &#x2F;&#x2F;删除</span><br><span class="line"></span><br><span class="line">git stash pop &#x2F;&#x2F;上面两句可以用这句代替</span><br></pre></td></tr></table></figure>

<p><img src= "/img/loading.gif" data-src="https://note.youdao.com/yws/api/personal/file/453A5C263E3345328E669538BB96EE3B?method=download&shareKey=f8c84ad48fad2a96345e7043e564f4fc" alt=""></p>
</li>
<li><p>提交<code>demo</code>分支的工作</p>
</li>
<li><p>复制<code>master</code>刚刚修复的bug</p>
<ul>
<li>这是提交的<code>master</code>的bug</li>
</ul>
<p><img src= "/img/loading.gif" data-src="https://note.youdao.com/yws/api/personal/file/AE38C2B3BB3D4C07BA8FA406A7199FE1?method=download&shareKey=a0c11153efd74bc77c6cc3724f6acf3d" alt=""></p>
<ul>
<li><p>复制master的bug</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git cherry-pick &lt;commit&gt;</span><br></pre></td></tr></table></figure>

<p>  <img src= "/img/loading.gif" data-src="https://note.youdao.com/yws/api/personal/file/9E8BA3EE4D2C4A0F9344E354823E087B?method=download&shareKey=b5a5a8aacde793dd5e5db337a60b7ef9" alt=""></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="git-branch-D-强行删除一个还没有合并的分支"><a href="#git-branch-D-强行删除一个还没有合并的分支" class="headerlink" title="git branch -D  强行删除一个还没有合并的分支"></a>git branch -D <name> 强行删除一个还没有合并的分支</h3><h3 id="多人协作"><a href="#多人协作" class="headerlink" title="多人协作"></a>多人协作</h3><ul>
<li><p>查看远程库信息</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git remote</span><br><span class="line">git remote -v &#x2F;&#x2F;更详细信息</span><br></pre></td></tr></table></figure>
</li>
<li><p>推送分支</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin master &#x2F;&#x2F;远程库名字  分支也可以是dev</span><br></pre></td></tr></table></figure>

<p><em>并不是一定要把本地分支远程推送</em></p>
<ul>
<li>master分支是主分支，因此要时刻与远程同步</li>
<li>dev分支是开发分支，团队所有成员需要在上面工作，所以也需要与远程同步</li>
<li>bug分支是用于本地修复bug,就没必要推送到远程了</li>
<li>feature分支是否推送远程，取决于你是否和你的小伙伴合作在上面开发</li>
</ul>
</li>
</ul>
<h3 id="git-rebase"><a href="#git-rebase" class="headerlink" title="git rebase"></a>git rebase</h3><ul>
<li><p>多人在同一个分支上协作时，很容易出现冲突。即使没有冲突，后push的童鞋不得不先pull，在本地合并，然后才能push成功。</p>
<p>每次合并再push后，分支变成了这样：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">$ git log --graph --pretty&#x3D;oneline --abbrev-commit</span><br><span class="line">* d1be385 (HEAD -&gt; master, origin&#x2F;master) init hello</span><br><span class="line">*   e5e69f1 Merge branch &#39;dev&#39;</span><br><span class="line">|\  </span><br><span class="line">| *   57c53ab (origin&#x2F;dev, dev) fix env conflict</span><br><span class="line">| |\  </span><br><span class="line">| | * 7a5e5dd add env</span><br><span class="line">| * | 7bd91f1 add new env</span><br><span class="line">| |&#x2F;  </span><br><span class="line">* |   12a631b merged bug fix 101</span><br><span class="line">|\ \  </span><br><span class="line">| * | 4c805e2 fix bug 101</span><br><span class="line">|&#x2F; &#x2F;  </span><br><span class="line">* |   e1e9c68 merge with no-ff</span><br><span class="line">|\ \  </span><br><span class="line">| |&#x2F;  </span><br><span class="line">| * f52c633 add merge</span><br><span class="line">|&#x2F;  </span><br><span class="line">*   cf810e4 conflict fixed</span><br></pre></td></tr></table></figure>
</li>
<li><p>上面看上去很乱 ，从例子看，<code>hello.py</code>这个文件做了两次提交。用<code>git log</code>命令看看</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ git log --graph --pretty&#x3D;oneline --abbrev-commit</span><br><span class="line">* 582d922 (HEAD -&gt; master) add author</span><br><span class="line">* 8875536 add comment</span><br><span class="line">* d1be385 (origin&#x2F;master) init hello</span><br><span class="line">*   e5e69f1 Merge branch &#39;dev&#39;</span><br><span class="line">|\  </span><br><span class="line">| *   57c53ab (origin&#x2F;dev, dev) fix env conflict</span><br><span class="line">| |\  </span><br><span class="line">| | * 7a5e5dd add env</span><br><span class="line">| * | 7bd91f1 add new env</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p><em>注意到Git用<code>(HEAD -&gt; master)</code>和<code>(origin/master)</code>标识出当前分支的HEAD和远程origin的位置分别是<code>582d922 add author</code>和<code>d1be385 init hello</code>，本地分支比远程分支快两个提交。</em></p>
</li>
<li><p>推送本地分支</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin master</span><br><span class="line">To github.com:michaelliao&#x2F;learngit.git</span><br><span class="line"> ! [rejected]        master -&gt; master (fetch first)</span><br><span class="line">error: failed to push some refs to &#39;git@github.com:michaelliao&#x2F;learngit.git&#39;</span><br><span class="line">hint: Updates were rejected because the remote contains work that you do</span><br><span class="line">hint: not have locally. This is usually caused by another repository pushing</span><br><span class="line">hint: to the same ref. You may want to first integrate the remote changes</span><br><span class="line">hint: (e.g., &#39;git pull ...&#39;) before pushing again.</span><br><span class="line">hint: See the &#39;Note about fast-forwards&#39; in &#39;git push --help&#39; for details.</span><br></pre></td></tr></table></figure>
</li>
<li><p>这说明有人先于我们推送了远程分支。按照经验，先pull一下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ git pull</span><br><span class="line">remote: Counting objects: 3, done.</span><br><span class="line">remote: Compressing objects: 100% (1&#x2F;1), done.</span><br><span class="line">remote: Total 3 (delta 1), reused 3 (delta 1), pack-reused 0</span><br><span class="line">Unpacking objects: 100% (3&#x2F;3), done.</span><br><span class="line">From github.com:michaelliao&#x2F;learngit</span><br><span class="line">   d1be385..f005ed4  master     -&gt; origin&#x2F;master</span><br><span class="line"> * [new tag]         v1.0       -&gt; v1.0</span><br><span class="line">Auto-merging hello.py</span><br><span class="line">Merge made by the &#39;recursive&#39; strategy.</span><br><span class="line"> hello.py | 1 +</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看状态</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Your branch is ahead of &#39;origin&#x2F;master&#39; by 3 commits.</span><br><span class="line">  (use &quot;git push&quot; to publish your local commits)</span><br><span class="line"></span><br><span class="line">nothing to commit, working tree clean</span><br></pre></td></tr></table></figure>
</li>
<li><p>加上刚才合并的提交，现在我们本地分支比远程分支超前3个提交。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ git log --graph --pretty&#x3D;oneline --abbrev-commit</span><br><span class="line">*   e0ea545 (HEAD -&gt; master) Merge branch &#39;master&#39; of github.com:michaelliao&#x2F;learngit</span><br><span class="line">|\  </span><br><span class="line">| * f005ed4 (origin&#x2F;master) set exit&#x3D;1</span><br><span class="line">* | 582d922 add author</span><br><span class="line">* | 8875536 add comment</span><br><span class="line">|&#x2F;  </span><br><span class="line">* d1be385 init hello</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
</li>
<li><p>上面看起来很乱，我们使用命令整理成直线</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ git rebase</span><br><span class="line">First, rewinding head to replay your work on top of it...</span><br><span class="line">Applying: add comment</span><br><span class="line">Using index info to reconstruct a base tree...</span><br><span class="line">M	hello.py</span><br><span class="line">Falling back to patching base and 3-way merge...</span><br><span class="line">Auto-merging hello.py</span><br><span class="line">Applying: add author</span><br><span class="line">Using index info to reconstruct a base tree...</span><br><span class="line">M	hello.py</span><br><span class="line">Falling back to patching base and 3-way merge...</span><br><span class="line">Auto-merging hello.py</span><br></pre></td></tr></table></figure>

<p>再查看</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git log --graph --pretty&#x3D;oneline --abbrev-commit</span><br><span class="line">* 7e61ed4 (HEAD -&gt; master) add author</span><br><span class="line">* 3611cfe add comment</span><br><span class="line">* f005ed4 (origin&#x2F;master) set exit&#x3D;1</span><br><span class="line">* d1be385 init hello</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>其实原理非常简单。我们注意观察，发现Git把我们本地的提交“挪动”了位置，放到了<code>f005ed4 (origin/master) set exit=1</code>之后，这样，整个提交历史就成了一条直线。rebase操作前后，最终的提交内容是一致的，但是，我们本地的commit修改内容已经变化了，它们的修改不再基于<code>d1be385 init hello</code>，而是基于<code>f005ed4 (origin/master) set exit=1</code>，但最后的提交<code>7e61ed4</code>内容是一致的。</p>
<p>rebase操作的特点：把分叉的提交历史“整理”成一条直线，看上去更直观。缺点是本地的分叉提交已经被修改过了。</p>
<p>最后，通过push操作把本地分支推送到远程：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Mac:~&#x2F;learngit michael$ git push origin master</span><br><span class="line">Counting objects: 6, done.</span><br><span class="line">Delta compression using up to 4 threads.</span><br><span class="line">Compressing objects: 100% (5&#x2F;5), done.</span><br><span class="line">Writing objects: 100% (6&#x2F;6), 576 bytes | 576.00 KiB&#x2F;s, done.</span><br><span class="line">Total 6 (delta 2), reused 0 (delta 0)</span><br><span class="line">remote: Resolving deltas: 100% (2&#x2F;2), completed with 1 local object.</span><br><span class="line">To github.com:michaelliao&#x2F;learngit.git</span><br><span class="line">   f005ed4..7e61ed4  master -&gt; master</span><br></pre></td></tr></table></figure>

<p>再用<code>git log</code>看看效果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git log --graph --pretty&#x3D;oneline --abbrev-commit</span><br><span class="line">* 7e61ed4 (HEAD -&gt; master, origin&#x2F;master) add author</span><br><span class="line">* 3611cfe add comment</span><br><span class="line">* f005ed4 set exit&#x3D;1</span><br><span class="line">* d1be385 init hello</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
</li>
<li><p>小结</p>
<ul>
<li>rebase操作可以把本地未push的分叉提交历史整理成直线；</li>
<li>rebase的目的是使得我们在查看历史提交的变化时更容易，因为分叉的提交需要三方对比。</li>
</ul>
</li>
</ul>
<h2 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h2><h3 id="创建标签"><a href="#创建标签" class="headerlink" title="创建标签"></a>创建标签</h3><ul>
<li><p>切换到需要打标签的分支上，然后执行命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git tag v0.1</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看所有标签</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git tag</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用<code>git log</code>查看，找到历史提交的commit id 打标签</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git tag v0.1 f52dasf</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看标签信息</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git show v0.1</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建带有说明的标签</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git tag -a v0.1 -m &quot;version 0.1&quot; 1324324</span><br></pre></td></tr></table></figure>

<p><em>-a 表示标签名 -m 表示说明</em></p>
</li>
<li><p>注意：<strong>标签总是和某个commit挂钩。如果这个commit既出现在master分支，又出现在dev分支，那么在这两个分支上都可以看到这个标签。</strong></p>
</li>
</ul>
<h3 id="操作标签"><a href="#操作标签" class="headerlink" title="操作标签"></a>操作标签</h3><ul>
<li><p>删除标签</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git tag -d v0.1</span><br></pre></td></tr></table></figure>
</li>
<li><p>推送标签到远程仓库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin v1.0</span><br></pre></td></tr></table></figure>

<p>或者一次性推送所有标签</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin --tags</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果标签已经推送到远程，删除需要先删除本地，再删除远程</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git tag -d v0.1</span><br><span class="line">git push origin :refs&#x2F;tags&#x2F;v0.1</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="使用Github"><a href="#使用Github" class="headerlink" title="使用Github"></a>使用Github</h2><ul>
<li><p>在GitHub上，可以任意Fork开源仓库；</p>
</li>
<li><p>自己拥有Fork后的仓库的读写权限；</p>
</li>
<li><p>可以推送pull request给官方仓库来贡献代码</p>
</li>
</ul>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Zting</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://tammy-zting.github.io/2020/08/05/gitLearn-md/">http://tammy-zting.github.io/2020/08/05/gitLearn-md/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://tammy-zting.github.io" target="_blank">Tammy-Zting-Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="/img/rabbit.gif" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2020/08/27/css-button/"><img class="prev-cover" data-src="/img/cat.gif" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">动态按钮</div></div></a></div><div class="next-post pull-right"><a href="/2020/08/03/js%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E6%B1%87%E6%80%BB/"><img class="next-cover" data-src="/img/fox.gif" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">js常用方法汇总</div></div></a></div></nav></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By Zting</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><button id="readmode" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font_plus" title="放大字体"><i class="fas fa-plus"></i></button><button id="font_minus" title="缩小字体"><i class="fas fa-minus"></i></button><button class="translate_chn_to_cht" id="translateLink" title="简繁转换">繁</button><button id="darkmode" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" title="设置"><i class="fas fa-cog"></i></button><button class="close" id="mobile-toc-button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module" defer></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js" async></script></body></html>